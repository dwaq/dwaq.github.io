function getCurrentYear() { var t = window.location.pathname; return t.substring(t.lastIndexOf("/") + 1).substring(11, 15) } $(".date").hover(function () { $(this).css("background-color", "#47B2F4") }, function () { $(this).css("background-color", "#F8F8F8") }), $(".date").click(function () { $("#tweet").empty(); var t = this.id, e = "makevember/tweets".concat(getCurrentYear()).concat(".json"); $.getJSON(e, function (e) { var n = e[t], o = document.getElementById("tweet"); twttr.widgets.createTweet(n, o, { conversation: "none", cards: "visable", linkColor: "#cc0000", theme: "light" }) }), $("html,body").animate({ scrollTop: $("#tweet").offset().top }) });